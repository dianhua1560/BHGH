
<div class = 'col-md-3'>
</div>
<div class = 'col-md-6'>
<h1>Events</h1>
<% if @is_admin %>
    <%= link_to "Add Event", new_event_path %>
    <%= link_to "Admin Panel", events_admin_path %>
<% end %>
<ul class = 'list-group'>
    <% @events.each do |event| %>
    <li class = 'list-group-item'>
        <% if @responded_ids.include?(event.id.to_s) %>
            <div class = 'pull-right'>
                You responded: <%= @responses[event.id.to_s].response %>
                <div>
                    <%= link_to "Undo", delete_event_response_path(:id => @responses[event.id.to_s].id), id: "undo-#{@responses[event.id.to_s].id}" %>
                </div>
            </div>
        <% else %>
            <div class = 'respond-div pull-right' data-id = '<%= event.id %>'>
                <%= link_to 'Going', respond_to_event_path(:id => event.id, :response => 'Going'), id: "going-#{event.id}" %>
                 <%= link_to 'Interested', respond_to_event_path(:id => event.id, :response => 'Interested'), id: "interested-#{event.id}" %>
                  <%= link_to 'Not Going', respond_to_event_path(:id => event.id, :response => 'Not Going'), id: "not-going-#{event.id}" %>
            </div>
        <% end %>
        <div>
            <%= link_to event.title, event_path(:id => event.id) %>
        </div>
        <div>
            <%= event.description %>
        </div>
        <div>
            <%= event.time %>
        </div>
        <div>
            <%= event.organizer %>
        </div>
        <div>
            <%= event.location %>
        </div>
        
    </li>
    <% end %>
</ul>
</div>
<div class = 'col-md-3'></div>

